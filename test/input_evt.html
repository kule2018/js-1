<!DOCTYPE HTML>
<html>
<head>
    <title>test</title>
    <style type="text/css">
        *
        {
            padding: 0;
            margin: 0;
        }
    </style>
</head>

<body>
    <div class="body_area">
        <input type="text" id="txt" />
    </div>
    <!--jquery-->
    <script type="text/javascript" src="http://img.gd.sohu.com/js/jquery/jquery.js"></script>
    <!--<script type="text/javascript" src="http://img.gd.sohu.com/js/jquery/jquery.mousewheel.js"></script>-->
    <script type="text/javascript">

        function log(o) {
            try {
                console.log(o);
            }
            catch (e) {
                alert(o);
            }
        }

        function addEvent(el, type, fn) {
            if (el.addEventListener) {
                el.addEventListener(type, fn, false);
            }
            else {
                el.attachEvent('on' + type, fn);
            }
        }

        //onput事件.IE9+支持input事件,IE8-不支持,但支持onpropertychange事件
        var txtEl = document.getElementById('txt');

        if (txtEl.addEventListener) {
            txtEl.addEventListener('input', function () {
                log(this.value);
            }, false);
        }
        else {
            txtEl.attachEvent('onpropertychange', function () {
                //IE8-的响应事件函数中this不是指向target,所以需要利用window.event.srcElement获取
                var target = window.event.srcElement;
                log(target.value);
            });
        }


    </script>
</body>
</html>
