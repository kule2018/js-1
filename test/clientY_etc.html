<!DOCTYPE HTML>
<html>
<head>
    <title>test</title>
    <style type="text/css">
        *
        {
            padding: 0;
            margin: 0;
        }

        .btns
        {
            position: fixed;
            width: 100%;
            left: 0;
            top: 0;
            /*ie6 fixed bug*/
            _position: absolute;
            _top: expression(eval(document.documentElement.scrollTop));
        }
        /*ie6 fixed bug*/
        html
        {
            _background-image: url(about:blank);
            _background-attachment: fixed;
        }

        #div
        {
            height: 2000px;
            background: #ccc;
        }

        #div2
        {
            margin: 200px 0 0 100px;
            width: 200px;
            height: 200px;
            padding: 100px;
            border: 10px solid #fff;
            overflow: auto;
            background: #ddd;
        }

        button
        {
            padding: 5px 15px;
        }
    </style>
</head>

<body>
    <div class="btns">
        <button id="div2Css">div2Css</button>
        <button id="div2Size">div2尺寸相关</button>
        <button id="windowSize">window尺寸相关</button>
    </div>

    <div id="div">
        div
        <div id="div2">
            <p style="height: 500px;">div2</p>
        </div>
    </div>
    <script type="text/javascript">

        function log(o) {
            try {
                console.log(o);
            }
            catch (e) {
                alert(o);
            }
        }

        function addEvent(el, type, fn) {
            if (el.addEventListener) {
                el.addEventListener(type, fn, false);
            }
            else {
                el.attachEvent('on' + type, fn);
            }
        }


        var div2El = document.getElementById('div2');
        //IE8-不支持pageX/Y,pageY相当于页面scrollTop+clinetY
        addEvent(div2El, 'click', function (evt) {
            log(' clientX:' + evt.clientX + ' clientY:' + evt.clientY + ' pageX:' + evt.pageX + ' pageY:' + evt.pageY);
        });


        //IE支持currentStyle, GC,FF和IE9+支持getComputedStyle
        addEvent(document.getElementById('div2Css'), 'click', function () {
            var css;
            if (window.getComputedStyle) {
                log('getComputedStyle_ok');
                css = window.getComputedStyle(div2El, null);
                log(css);
            }
            if (div2.currentStyle) {
                log('currentStyle_ok');
                css = div2.currentStyle;
                log(css);
            }
        });


        //offsetWidth/Height包含border大小的尺寸,clientWidth/Height是不包含border及滚动条大小的尺寸
        addEvent(document.getElementById('div2Size'), 'click', function () {
            log(div2.offsetParent)
            log(' offsetLeft:' + div2El.offsetLeft + ' offsetTop:' + div2El.offsetTop + ' offsetWidth:' + div2El.offsetWidth + ' offsetHeight:' + div2El.offsetHeight + ' clientWidth:' + div2El.clientWidth + ' clientHeight:' + div2El.clientHeight +
                '\n\r scrollLeft:' + div2El.scrollLeft + ' scrollTop:' + div2El.scrollTop + ' scrollWidth:' + div2El.scrollWidth + ' scrollHeight:' + div2El.scrollHeight);
        });


        //GC中body支持scrollTop/Left, IE和FF中是html支持
        //IE8-不支持window.innerWidth/Height, GC,FF和IE9+支持
        //body的clientWidth/Height和内容高度相等(一般比窗口高度大),html的clientWidth/Height(不包含滚动条高度)和窗口高度相等
        var html = document.documentElement,
            body = document.body;
        addEvent(document.getElementById('windowSize'), 'click', function () {
            log(' window.innerWidth:' + window.innerWidth + ' window.innerHeight:' + window.innerHeight +
                '\n\r window.scrollLeft:' + window.scrollLeft + ' window.scrollTop:' + window.scrollTop +
                '\n\r window.clientWidth:' + window.clientWidth + ' window.clientHeight:' + window.clientHeight +
                '\n\r window.offsetWidth:' + window.offsetWidth + ' window.offsetHeight:' + window.offsetHeight +
                '\n\r html.scrollLeft:' + html.scrollLeft + ' html.scrollTop:' + html.scrollTop +
                '\n\r html.clientWidth:' + html.clientWidth + ' html.clientHeight:' + html.clientHeight +
                '\n\r html.offsetWidth:' + html.offsetWidth + ' html.offsetHeight:' + html.offsetHeight +
                '\n\r body.scrollLeft:' + body.scrollLeft + ' body.scrollTop:' + body.scrollTop +
                '\n\r body.clientWidth:' + body.clientWidth + ' body.clientHeight:' + body.clientHeight +
                '\n\r body.offsetWidth:' + body.offsetWidth + ' body.offsetHeight:' + body.offsetHeight);
        });

    </script>
</body>
</html>
