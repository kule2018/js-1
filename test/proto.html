<!DOCTYPE HTML>
<html>
    <head>
        <title>test</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no" />
        <style type="text/css">

        </style>
    </head>


    <body>

        <script type="text/javascript">
            var localStorage = window.localStorage;
            var aid = '22222';

            var CacheCnt = (function () {
                function CacheCnt(suffix) {
                    this.suffix = suffix;
                }

                CacheCnt.prototype = {
                    getCnt: function (cmtId) {
                        return +localStorage.getItem(aid + cmtId + this.suffix) || 0;
                    },
                    setCnt: function (cmtId, cnt) {
                        localStorage.setItem(aid + cmtId + this.suffix, cnt);
                        return cnt;
                    },
                    addCnt: function (cmtId, isReduce) {
                        var oldCnt = this.getCnt(cmtId);
                        if (isReduce) {
                            return oldCnt > 0 && this.setCnt(cmtId, --oldCnt);
                        }
                        else {
                            return this.setCnt(cmtId, ++oldCnt);
                        }
                    },
                    reduceCnt: function (cmtId) {
                        return this.addCnt(cmtId, 1);
                    }
                };

                return CacheCnt;
            })();

            var up = new CacheCnt('up');

            var down = new CacheCnt('down');
        </script>
    </body>
</html>
